<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Work Time Tracker</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
</head>

<body>
  <div id="main-container" class="container d-flex flex-column align-items-center border my-4 p-3">
    <h1>Work Time Tracker</h1>
    <p>by Krišjānis for Petručeņa</p>
    <div>Current time: <span id="digital-clock">00:00:00</span></div>

    <br>

    <div id="inactive-input" class="input-group mb-3">
      <input id="task-description" type="text" class="form-control" placeholder="Task Description">
      <select id="selected-work" class="form-select flex-grow-0 w-auto">
        <option selected>Choose Work</option>
        <option value="LU MII">LU MII</option>
        <option value="LU MD">LU MD</option>
        <option value="PPS">PPS</option>
      </select>
      <button id="start-sw-btn" onclick="start_sw()" type="button" class="btn btn-success">
        Start <i class="bi bi-play-circle"></i>
      </button>
    </div>

    <div id="active-input" class="input-group mb-3 d-none">
      <div class="form-control flex-grow-0 w-auto">
        Elapsed: <span id="time-elapsed">00:00:00</span>
      </div>
      <input id="task-description" type="text" class="form-control" placeholder="Task Description">
      <span id="current-work" class="form-control flex-grow-0 w-auto">LU MII</span>
      <button id="pause-sw-btn" onclick="pause_sw()" type="button" class="btn btn-warning">
        Pause <i class="bi bi-pause-circle"></i>
      </button>
      <button id="unpause-sw-btn" onclick="unpause_sw()" type="button" class="btn btn-success d-none">
        Unpause <i class="bi bi-play-circle"></i>
      </button>
      <button id="stop-sw-btn" onclick="stop_sw()" type="button" class="btn btn-danger">
        Stop <i class="bi bi-stop-circle"></i>
      </button>
    </div>

    <hr>

    <template id="entry-template">
      <div class="input-group mb-3">
        <div class="form-control flex-grow-0 w-auto">
          Time: {{time}}
        </div>
        <div class="form-control flex-grow-0 w-auto">
          Before: {{before}}
        </div>
        <span type="text" class="form-control">
          Description: {{desc}}
        </span>
        <span class="form-control flex-grow-0 w-auto">
          {{work}}
        </span>
        <button id="edit-entry-${entry.id}" type="button" class="btn btn-secondary">
          Edit <i class="bi bi-pencil"></i>
        </button>
      </div>
    </template>

    <template id="edit-template">
      <div id="entry-${entry.id}" class="input-group mb-3">
        <input type="text" class="form-control" value="34:00:21">
        <input type="text" class="form-control" value="${entry.desc}">
        </input>
        <select id="selected-work" class="form-select flex-grow-0 w-auto">
            <option value="LU MII">LU MII</option>
            <option value="LU MD">LU MD</option>
            <option value="PPS">PPS</option>
        </select>
        <button id="save-entry-${entry.id}" type="button" class="btn btn-primary">
            Save <i class="bi bi-save"></i>
        </button>
        <button id="delete-entry-${entry.id}" type="button" class="btn btn-danger">
            Delete <i class="bi bi-trash"></i>
        </button    >
      </div>
    </template>

    <div v-scope="stopwatch_entry({ time: '00:00:00' })" class="w-100"></div>
    <div v-scope="edit_sw_entry({})" class="w-100"></div>

  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8"
    crossorigin="anonymous"></script>
  <script src="/stopwatch.js"></script>

  <script src="https://unpkg.com/petite-vue@0.2.2/dist/petite-vue.iife.js" defer init></script>
</body>

</html>